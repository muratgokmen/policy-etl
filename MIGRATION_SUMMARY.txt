â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  MANUAL DDL SETUP - MIGRATION SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Tarih: 2025-10-08
ğŸ¯ AmaÃ§: Spring Boot otomatik DDL devre dÄ±ÅŸÄ±, manuel ÅŸema yÃ¶netimi

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TAMAMLANAN GÃ–REVLER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. SPRING BOOT KONFÄ°GÃœRASYONU
   â”œâ”€â”€ application.yml gÃ¼ncellendi
   â”œâ”€â”€ ddl-auto: update â†’ validate
   â””â”€â”€ âœ… ArtÄ±k otomatik DDL yapÄ±lmÄ±yor

2. DATABASE SCHEMA SCRIPTS
   â”œâ”€â”€ 03-create-tables.sql (YENÄ°)
   â”‚   â”œâ”€â”€ 6 Tablo tanÄ±mÄ±
   â”‚   â”œâ”€â”€ 14 Index tanÄ±mÄ±
   â”‚   â”œâ”€â”€ Foreign Key constraints
   â”‚   â”œâ”€â”€ Unique constraints
   â”‚   â””â”€â”€ Table/Column comments
   â”‚
   â””â”€â”€ 99-rollback-schema.sql (YENÄ°)
       â””â”€â”€ Development rollback scripti

3. DOKÃœMANTASYON
   â”œâ”€â”€ DATABASE_MIGRATION_GUIDE.md (YENÄ°)
   â”‚   â”œâ”€â”€ Migration stratejisi
   â”‚   â”œâ”€â”€ Best practices
   â”‚   â””â”€â”€ Ã–rnek senaryolar
   â”‚
   â”œâ”€â”€ MANUAL_DDL_SETUP.md (YENÄ°)
   â”‚   â””â”€â”€ HÄ±zlÄ± baÅŸlangÄ±Ã§ rehberi
   â”‚
   â””â”€â”€ docker/README.md (GÃœNCELLENDÄ°)
       â””â”€â”€ Åema yÃ¶netimi bÃ¶lÃ¼mÃ¼ eklendi

4. MAVEN BUILD
   â””â”€â”€ âœ… mvn clean compile baÅŸarÄ±lÄ± (41 dosya)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“Š DATABASE SCHEMA DETAYLARI
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TABLOLAR (6)
â”œâ”€â”€ pdf_store (6 kolon, 3 index)
â”œâ”€â”€ pdf_text (5 kolon, 2 index)
â”œâ”€â”€ traffic_insurance_offer (17 kolon, 6 index) â­ Aggregate Root
â”œâ”€â”€ traffic_insurance_offer_vehicle (11 kolon, 3 index)
â”œâ”€â”€ traffic_insurance_offer_coverage (4 kolon, 2 index)
â””â”€â”€ traffic_insurance_offer_premium (4 kolon, 2 index)

INDEX'LER (14)
â”œâ”€â”€ Performance indexes (query optimization)
â”œâ”€â”€ Foreign key indexes (JOIN performance)
â””â”€â”€ Business query indexes (search optimization)

CONSTRAINTS
â”œâ”€â”€ 5 Unique constraints (business keys)
â”œâ”€â”€ 5 Foreign key constraints (referential integrity)
â””â”€â”€ CASCADE policies (orphan deletion)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸš€ NASIL KULLANILIR?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Ä°LK KURULUM (Docker ile)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   cd docker
   start-dev.bat
   
   â†’ PostgreSQL baÅŸlar
   â†’ 03-create-tables.sql otomatik Ã§alÄ±ÅŸÄ±r
   â†’ TÃ¼m tablolar/indexler oluÅŸur âœ…

2. SPRING BOOT BAÅLATMA
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   mvn spring-boot:run
   
   â†’ ddl-auto: validate Ã§alÄ±ÅŸÄ±r
   â†’ Entity'ler ile DB ÅŸemasÄ± karÅŸÄ±laÅŸtÄ±rÄ±lÄ±r
   â†’ UyuÅŸuyorsa baÅŸlar âœ…
   â†’ UyuÅŸmuyorsa hata verir âŒ

3. YENÄ° MIGRATION EKLEME
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   a) Entity'yi gÃ¼ncelle
   b) Migration script oluÅŸtur (04-xxx.sql)
   c) Manuel uygula:
      psql -U postgres -d policy_etl_db -f 04-xxx.sql
   d) Git'e commit et
   e) Spring Boot'u baÅŸlat (validation geÃ§meli)

4. ROLLBACK (DEV ONLY!)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   docker-compose down -v
   docker-compose up -d
   
   veya:
   
   psql -U postgres -d policy_etl_db -f 99-rollback-schema.sql

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… AVANTAJLAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Production'da gÃ¼venli (yanlÄ±ÅŸlÄ±kla tablo drop olmaz)
âœ“ Git'te versiyon kontrolÃ¼ (tÃ¼m deÄŸiÅŸiklikler takip edilir)
âœ“ Rollback desteÄŸi (geri alma mÃ¼mkÃ¼n)
âœ“ Index optimizasyonu (manuel kontrol)
âœ“ Code review sÃ¼recine dahil (ÅŸeffaf)
âœ“ Team collaboration (gÃ¶rÃ¼nÃ¼rlÃ¼k)
âœ“ Breaking change kontrolÃ¼ (Ã¶nceden fark edilir)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“š DÃ–KÃœMANLAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– MANUAL_DDL_SETUP.md           â†’ HÄ±zlÄ± baÅŸlangÄ±Ã§ ve Ã¶zet
ğŸ“– docker/DATABASE_MIGRATION_GUIDE.md â†’ DetaylÄ± migration stratejisi
ğŸ“– docker/README.md              â†’ Docker ve ÅŸema yÃ¶netimi
ğŸ“– docker/init-scripts/          â†’ TÃ¼m SQL scriptleri

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âš ï¸ Ã–NEMLÄ° NOTLAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ YAPMAYIN:
   - Production'da ddl-auto: update kullanmayÄ±n
   - Manuel DB deÄŸiÅŸikliklerini git'e almadan bÄ±rakmayÄ±n
   - Rollback planÄ± olmadan migration yapmayÄ±n

âœ… YAPIN:
   - Her deÄŸiÅŸiklik iÃ§in migration script oluÅŸturun
   - Migration'larÄ± code review'dan geÃ§irin
   - Production'a geÃ§meden Ã¶nce test ortamÄ±nda deneyin
   - Index'leri bilinÃ§li ekleyin

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“ DESTEK
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Entity deÄŸiÅŸikliÄŸinden sonra:
1. Migration script oluÅŸtur
2. Manuel uygula
3. Spring Boot baÅŸlat (validation kontrolÃ¼)
4. Git'e commit et

SorularÄ±nÄ±z iÃ§in DATABASE_MIGRATION_GUIDE.md dosyasÄ±na bakÄ±n.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ‰ SONUÃ‡
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Spring Boot artÄ±k DDL yapmÄ±yor (validate only)
âœ… TÃ¼m ÅŸema manuel kontrol altÄ±nda
âœ… Production-ready setup
âœ… Git'te tam kontrol
âœ… Rollback desteÄŸi var

Proje artÄ±k enterprise-grade database yÃ¶netimine sahip! ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Son GÃ¼ncelleme: 2025-10-08 21:26
Spring Boot: 3.5.5 | PostgreSQL: 16 | Hibernate: validate mode
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
